{"dependencies":[{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":34},"end":{"line":2,"column":69,"index":103}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"../services/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":104},"end":{"line":3,"column":38,"index":142}}],"key":"Pr5/EB33W7mJGi+ygccy+pUf1E8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"useCartStore\", {\n    enumerable: true,\n    get: function () {\n      return useCartStore;\n    }\n  });\n  var _zustand = require(_dependencyMap[0], \"zustand\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _servicesApi = require(_dependencyMap[2], \"../services/api\");\n  const useCartStore = (0, _zustand.create)((set, get) => ({\n    sessionId: '',\n    items: [],\n    products: [],\n    isLoading: false,\n    initSession: async () => {\n      try {\n        let sessionId = await AsyncStorage.default.getItem('session_id');\n        if (!sessionId) {\n          sessionId = 'session_' + Math.random().toString(36).substr(2, 9);\n          await AsyncStorage.default.setItem('session_id', sessionId);\n        }\n        set({\n          sessionId\n        });\n        await get().fetchCart();\n      } catch (error) {\n        console.error('Error initializing session:', error);\n      }\n    },\n    fetchCart: async () => {\n      const {\n        sessionId\n      } = get();\n      if (!sessionId) return;\n      set({\n        isLoading: true\n      });\n      try {\n        const response = await _servicesApi.api.get(`/cart/${sessionId}`);\n        set({\n          items: response.data.items || [],\n          products: response.data.products || [],\n          isLoading: false\n        });\n      } catch (error) {\n        console.error('Error fetching cart:', error);\n        set({\n          isLoading: false\n        });\n      }\n    },\n    addToCart: async (productId, quantity = 1) => {\n      const {\n        sessionId\n      } = get();\n      if (!sessionId) return;\n      try {\n        await _servicesApi.api.post(`/cart/${sessionId}/add`, {\n          product_id: productId,\n          quantity\n        });\n        await get().fetchCart();\n      } catch (error) {\n        console.error('Error adding to cart:', error);\n      }\n    },\n    updateQuantity: async (productId, quantity) => {\n      const {\n        sessionId\n      } = get();\n      if (!sessionId) return;\n      try {\n        if (quantity <= 0) {\n          await get().removeFromCart(productId);\n        } else {\n          await _servicesApi.api.put(`/cart/${sessionId}/update`, {\n            product_id: productId,\n            quantity\n          });\n          await get().fetchCart();\n        }\n      } catch (error) {\n        console.error('Error updating cart:', error);\n      }\n    },\n    removeFromCart: async productId => {\n      const {\n        sessionId\n      } = get();\n      if (!sessionId) return;\n      try {\n        await _servicesApi.api.delete(`/cart/${sessionId}/remove/${productId}`);\n        await get().fetchCart();\n      } catch (error) {\n        console.error('Error removing from cart:', error);\n      }\n    },\n    clearCart: async () => {\n      const {\n        sessionId\n      } = get();\n      if (!sessionId) return;\n      try {\n        await _servicesApi.api.delete(`/cart/${sessionId}/clear`);\n        set({\n          items: [],\n          products: []\n        });\n      } catch (error) {\n        console.error('Error clearing cart:', error);\n      }\n    },\n    getTotalItems: () => {\n      const {\n        items\n      } = get();\n      return items.reduce((total, item) => total + item.quantity, 0);\n    },\n    getTotalPrice: () => {\n      const {\n        items,\n        products\n      } = get();\n      return items.reduce((total, item) => {\n        const product = products.find(p => p.id === item.product_id);\n        return total + (product ? product.price * item.quantity : 0);\n      }, 0);\n    }\n  }));\n});","lineCount":142,"map":[[12,2,35,0,"Object"],[12,8,35,0],[12,9,35,0,"defineProperty"],[12,23,35,0],[12,24,35,0,"exports"],[12,31,35,0],[13,4,35,0,"enumerable"],[13,14,35,0],[14,4,35,0,"get"],[14,7,35,0],[14,18,35,0,"get"],[14,19,35,0],[15,6,35,0],[15,13,35,0,"useCartStore"],[15,25,35,0],[16,4,35,0],[17,2,35,0],[18,2,1,0],[18,6,1,0,"_zustand"],[18,14,1,0],[18,17,1,0,"require"],[18,24,1,0],[18,25,1,0,"_dependencyMap"],[18,39,1,0],[19,2,2,0],[19,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[19,42,2,0],[19,45,2,0,"require"],[19,52,2,0],[19,53,2,0,"_dependencyMap"],[19,67,2,0],[20,2,2,0],[20,6,2,0,"AsyncStorage"],[20,18,2,0],[20,21,2,0,"_interopDefault"],[20,36,2,0],[20,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[20,73,2,0],[21,2,3,0],[21,6,3,0,"_servicesApi"],[21,18,3,0],[21,21,3,0,"require"],[21,28,3,0],[21,29,3,0,"_dependencyMap"],[21,43,3,0],[22,2,35,7],[22,8,35,13,"useCartStore"],[22,20,35,25],[22,23,35,28],[22,27,35,28,"create"],[22,35,35,34],[22,36,35,34,"create"],[22,42,35,34],[22,44,35,46],[22,45,35,47,"set"],[22,48,35,50],[22,50,35,52,"get"],[22,53,35,55],[22,59,35,61],[23,4,36,2,"sessionId"],[23,13,36,11],[23,15,36,13],[23,17,36,15],[24,4,37,2,"items"],[24,9,37,7],[24,11,37,9],[24,13,37,11],[25,4,38,2,"products"],[25,12,38,10],[25,14,38,12],[25,16,38,14],[26,4,39,2,"isLoading"],[26,13,39,11],[26,15,39,13],[26,20,39,18],[27,4,41,2,"initSession"],[27,15,41,13],[27,17,41,15],[27,23,41,15,"initSession"],[27,24,41,15],[27,29,41,27],[28,6,42,4],[28,10,42,8],[29,8,43,6],[29,12,43,10,"sessionId"],[29,21,43,19],[29,24,43,22],[29,30,43,28,"AsyncStorage"],[29,42,43,40],[29,43,43,40,"default"],[29,50,43,40],[29,51,43,41,"getItem"],[29,58,43,48],[29,59,43,49],[29,71,43,61],[29,72,43,62],[30,8,44,6],[30,12,44,10],[30,13,44,11,"sessionId"],[30,22,44,20],[30,24,44,22],[31,10,45,8,"sessionId"],[31,19,45,17],[31,22,45,20],[31,32,45,30],[31,35,45,33,"Math"],[31,39,45,37],[31,40,45,38,"random"],[31,46,45,44],[31,47,45,45],[31,48,45,46],[31,49,45,47,"toString"],[31,57,45,55],[31,58,45,56],[31,60,45,58],[31,61,45,59],[31,62,45,60,"substr"],[31,68,45,66],[31,69,45,67],[31,70,45,68],[31,72,45,70],[31,73,45,71],[31,74,45,72],[32,10,46,8],[32,16,46,14,"AsyncStorage"],[32,28,46,26],[32,29,46,26,"default"],[32,36,46,26],[32,37,46,27,"setItem"],[32,44,46,34],[32,45,46,35],[32,57,46,47],[32,59,46,49,"sessionId"],[32,68,46,58],[32,69,46,59],[33,8,47,6],[34,8,48,6,"set"],[34,11,48,9],[34,12,48,10],[35,10,48,12,"sessionId"],[36,8,48,22],[36,9,48,23],[36,10,48,24],[37,8,49,6],[37,14,49,12,"get"],[37,17,49,15],[37,18,49,16],[37,19,49,17],[37,20,49,18,"fetchCart"],[37,29,49,27],[37,30,49,28],[37,31,49,29],[38,6,50,4],[38,7,50,5],[38,8,50,6],[38,15,50,13,"error"],[38,20,50,18],[38,22,50,20],[39,8,51,6,"console"],[39,15,51,13],[39,16,51,14,"error"],[39,21,51,19],[39,22,51,20],[39,51,51,49],[39,53,51,51,"error"],[39,58,51,56],[39,59,51,57],[40,6,52,4],[41,4,53,2],[41,5,53,3],[42,4,55,2,"fetchCart"],[42,13,55,11],[42,15,55,13],[42,21,55,13,"fetchCart"],[42,22,55,13],[42,27,55,25],[43,6,56,4],[43,12,56,10],[44,8,56,12,"sessionId"],[45,6,56,22],[45,7,56,23],[45,10,56,26,"get"],[45,13,56,29],[45,14,56,30],[45,15,56,31],[46,6,57,4],[46,10,57,8],[46,11,57,9,"sessionId"],[46,20,57,18],[46,22,57,20],[47,6,59,4,"set"],[47,9,59,7],[47,10,59,8],[48,8,59,10,"isLoading"],[48,17,59,19],[48,19,59,21],[49,6,59,26],[49,7,59,27],[49,8,59,28],[50,6,60,4],[50,10,60,8],[51,8,61,6],[51,14,61,12,"response"],[51,22,61,20],[51,25,61,23],[51,31,61,29,"api"],[51,43,61,32],[51,44,61,32,"api"],[51,47,61,32],[51,48,61,33,"get"],[51,51,61,36],[51,52,61,37],[51,61,61,46,"sessionId"],[51,70,61,55],[51,72,61,57],[51,73,61,58],[52,8,62,6,"set"],[52,11,62,9],[52,12,62,10],[53,10,63,8,"items"],[53,15,63,13],[53,17,63,15,"response"],[53,25,63,23],[53,26,63,24,"data"],[53,30,63,28],[53,31,63,29,"items"],[53,36,63,34],[53,40,63,38],[53,42,63,40],[54,10,64,8,"products"],[54,18,64,16],[54,20,64,18,"response"],[54,28,64,26],[54,29,64,27,"data"],[54,33,64,31],[54,34,64,32,"products"],[54,42,64,40],[54,46,64,44],[54,48,64,46],[55,10,65,8,"isLoading"],[55,19,65,17],[55,21,65,19],[56,8,66,6],[56,9,66,7],[56,10,66,8],[57,6,67,4],[57,7,67,5],[57,8,67,6],[57,15,67,13,"error"],[57,20,67,18],[57,22,67,20],[58,8,68,6,"console"],[58,15,68,13],[58,16,68,14,"error"],[58,21,68,19],[58,22,68,20],[58,44,68,42],[58,46,68,44,"error"],[58,51,68,49],[58,52,68,50],[59,8,69,6,"set"],[59,11,69,9],[59,12,69,10],[60,10,69,12,"isLoading"],[60,19,69,21],[60,21,69,23],[61,8,69,29],[61,9,69,30],[61,10,69,31],[62,6,70,4],[63,4,71,2],[63,5,71,3],[64,4,73,2,"addToCart"],[64,13,73,11],[64,15,73,13],[64,21,73,13,"addToCart"],[64,22,73,20,"productId"],[64,31,73,37],[64,33,73,39,"quantity"],[64,41,73,55],[64,44,73,58],[64,45,73,59],[64,50,73,64],[65,6,74,4],[65,12,74,10],[66,8,74,12,"sessionId"],[67,6,74,22],[67,7,74,23],[67,10,74,26,"get"],[67,13,74,29],[67,14,74,30],[67,15,74,31],[68,6,75,4],[68,10,75,8],[68,11,75,9,"sessionId"],[68,20,75,18],[68,22,75,20],[69,6,77,4],[69,10,77,8],[70,8,78,6],[70,14,78,12,"api"],[70,26,78,15],[70,27,78,15,"api"],[70,30,78,15],[70,31,78,16,"post"],[70,35,78,20],[70,36,78,21],[70,45,78,30,"sessionId"],[70,54,78,39],[70,60,78,45],[70,62,78,47],[71,10,78,49,"product_id"],[71,20,78,59],[71,22,78,61,"productId"],[71,31,78,70],[72,10,78,72,"quantity"],[73,8,78,81],[73,9,78,82],[73,10,78,83],[74,8,79,6],[74,14,79,12,"get"],[74,17,79,15],[74,18,79,16],[74,19,79,17],[74,20,79,18,"fetchCart"],[74,29,79,27],[74,30,79,28],[74,31,79,29],[75,6,80,4],[75,7,80,5],[75,8,80,6],[75,15,80,13,"error"],[75,20,80,18],[75,22,80,20],[76,8,81,6,"console"],[76,15,81,13],[76,16,81,14,"error"],[76,21,81,19],[76,22,81,20],[76,45,81,43],[76,47,81,45,"error"],[76,52,81,50],[76,53,81,51],[77,6,82,4],[78,4,83,2],[78,5,83,3],[79,4,85,2,"updateQuantity"],[79,18,85,16],[79,20,85,18],[79,26,85,18,"updateQuantity"],[79,27,85,25,"productId"],[79,36,85,42],[79,38,85,44,"quantity"],[79,46,85,60],[79,51,85,65],[80,6,86,4],[80,12,86,10],[81,8,86,12,"sessionId"],[82,6,86,22],[82,7,86,23],[82,10,86,26,"get"],[82,13,86,29],[82,14,86,30],[82,15,86,31],[83,6,87,4],[83,10,87,8],[83,11,87,9,"sessionId"],[83,20,87,18],[83,22,87,20],[84,6,89,4],[84,10,89,8],[85,8,90,6],[85,12,90,10,"quantity"],[85,20,90,18],[85,24,90,22],[85,25,90,23],[85,27,90,25],[86,10,91,8],[86,16,91,14,"get"],[86,19,91,17],[86,20,91,18],[86,21,91,19],[86,22,91,20,"removeFromCart"],[86,36,91,34],[86,37,91,35,"productId"],[86,46,91,44],[86,47,91,45],[87,8,92,6],[87,9,92,7],[87,15,92,13],[88,10,93,8],[88,16,93,14,"api"],[88,28,93,17],[88,29,93,17,"api"],[88,32,93,17],[88,33,93,18,"put"],[88,36,93,21],[88,37,93,22],[88,46,93,31,"sessionId"],[88,55,93,40],[88,64,93,49],[88,66,93,51],[89,12,93,53,"product_id"],[89,22,93,63],[89,24,93,65,"productId"],[89,33,93,74],[90,12,93,76,"quantity"],[91,10,93,85],[91,11,93,86],[91,12,93,87],[92,10,94,8],[92,16,94,14,"get"],[92,19,94,17],[92,20,94,18],[92,21,94,19],[92,22,94,20,"fetchCart"],[92,31,94,29],[92,32,94,30],[92,33,94,31],[93,8,95,6],[94,6,96,4],[94,7,96,5],[94,8,96,6],[94,15,96,13,"error"],[94,20,96,18],[94,22,96,20],[95,8,97,6,"console"],[95,15,97,13],[95,16,97,14,"error"],[95,21,97,19],[95,22,97,20],[95,44,97,42],[95,46,97,44,"error"],[95,51,97,49],[95,52,97,50],[96,6,98,4],[97,4,99,2],[97,5,99,3],[98,4,101,2,"removeFromCart"],[98,18,101,16],[98,20,101,18],[98,26,101,25,"productId"],[98,35,101,42],[98,39,101,47],[99,6,102,4],[99,12,102,10],[100,8,102,12,"sessionId"],[101,6,102,22],[101,7,102,23],[101,10,102,26,"get"],[101,13,102,29],[101,14,102,30],[101,15,102,31],[102,6,103,4],[102,10,103,8],[102,11,103,9,"sessionId"],[102,20,103,18],[102,22,103,20],[103,6,105,4],[103,10,105,8],[104,8,106,6],[104,14,106,12,"api"],[104,26,106,15],[104,27,106,15,"api"],[104,30,106,15],[104,31,106,16,"delete"],[104,37,106,22],[104,38,106,23],[104,47,106,32,"sessionId"],[104,56,106,41],[104,67,106,52,"productId"],[104,76,106,61],[104,78,106,63],[104,79,106,64],[105,8,107,6],[105,14,107,12,"get"],[105,17,107,15],[105,18,107,16],[105,19,107,17],[105,20,107,18,"fetchCart"],[105,29,107,27],[105,30,107,28],[105,31,107,29],[106,6,108,4],[106,7,108,5],[106,8,108,6],[106,15,108,13,"error"],[106,20,108,18],[106,22,108,20],[107,8,109,6,"console"],[107,15,109,13],[107,16,109,14,"error"],[107,21,109,19],[107,22,109,20],[107,49,109,47],[107,51,109,49,"error"],[107,56,109,54],[107,57,109,55],[108,6,110,4],[109,4,111,2],[109,5,111,3],[110,4,113,2,"clearCart"],[110,13,113,11],[110,15,113,13],[110,21,113,13,"clearCart"],[110,22,113,13],[110,27,113,25],[111,6,114,4],[111,12,114,10],[112,8,114,12,"sessionId"],[113,6,114,22],[113,7,114,23],[113,10,114,26,"get"],[113,13,114,29],[113,14,114,30],[113,15,114,31],[114,6,115,4],[114,10,115,8],[114,11,115,9,"sessionId"],[114,20,115,18],[114,22,115,20],[115,6,117,4],[115,10,117,8],[116,8,118,6],[116,14,118,12,"api"],[116,26,118,15],[116,27,118,15,"api"],[116,30,118,15],[116,31,118,16,"delete"],[116,37,118,22],[116,38,118,23],[116,47,118,32,"sessionId"],[116,56,118,41],[116,64,118,49],[116,65,118,50],[117,8,119,6,"set"],[117,11,119,9],[117,12,119,10],[118,10,119,12,"items"],[118,15,119,17],[118,17,119,19],[118,19,119,21],[119,10,119,23,"products"],[119,18,119,31],[119,20,119,33],[120,8,119,36],[120,9,119,37],[120,10,119,38],[121,6,120,4],[121,7,120,5],[121,8,120,6],[121,15,120,13,"error"],[121,20,120,18],[121,22,120,20],[122,8,121,6,"console"],[122,15,121,13],[122,16,121,14,"error"],[122,21,121,19],[122,22,121,20],[122,44,121,42],[122,46,121,44,"error"],[122,51,121,49],[122,52,121,50],[123,6,122,4],[124,4,123,2],[124,5,123,3],[125,4,125,2,"getTotalItems"],[125,17,125,15],[125,19,125,17,"getTotalItems"],[125,20,125,17],[125,25,125,23],[126,6,126,4],[126,12,126,10],[127,8,126,12,"items"],[128,6,126,18],[128,7,126,19],[128,10,126,22,"get"],[128,13,126,25],[128,14,126,26],[128,15,126,27],[129,6,127,4],[129,13,127,11,"items"],[129,18,127,16],[129,19,127,17,"reduce"],[129,25,127,23],[129,26,127,24],[129,27,127,25,"total"],[129,32,127,30],[129,34,127,32,"item"],[129,38,127,36],[129,43,127,41,"total"],[129,48,127,46],[129,51,127,49,"item"],[129,55,127,53],[129,56,127,54,"quantity"],[129,64,127,62],[129,66,127,64],[129,67,127,65],[129,68,127,66],[130,4,128,2],[130,5,128,3],[131,4,130,2,"getTotalPrice"],[131,17,130,15],[131,19,130,17,"getTotalPrice"],[131,20,130,17],[131,25,130,23],[132,6,131,4],[132,12,131,10],[133,8,131,12,"items"],[133,13,131,17],[134,8,131,19,"products"],[135,6,131,28],[135,7,131,29],[135,10,131,32,"get"],[135,13,131,35],[135,14,131,36],[135,15,131,37],[136,6,132,4],[136,13,132,11,"items"],[136,18,132,16],[136,19,132,17,"reduce"],[136,25,132,23],[136,26,132,24],[136,27,132,25,"total"],[136,32,132,30],[136,34,132,32,"item"],[136,38,132,36],[136,43,132,41],[137,8,133,6],[137,14,133,12,"product"],[137,21,133,19],[137,24,133,22,"products"],[137,32,133,30],[137,33,133,31,"find"],[137,37,133,35],[137,38,133,36,"p"],[137,39,133,37],[137,43,133,41,"p"],[137,44,133,42],[137,45,133,43,"id"],[137,47,133,45],[137,52,133,50,"item"],[137,56,133,54],[137,57,133,55,"product_id"],[137,67,133,65],[137,68,133,66],[138,8,134,6],[138,15,134,13,"total"],[138,20,134,18],[138,24,134,22,"product"],[138,31,134,29],[138,34,134,32,"product"],[138,41,134,39],[138,42,134,40,"price"],[138,47,134,45],[138,50,134,48,"item"],[138,54,134,52],[138,55,134,53,"quantity"],[138,63,134,61],[138,66,134,64],[138,67,134,65],[138,68,134,66],[139,6,135,4],[139,7,135,5],[139,9,135,7],[139,10,135,8],[139,11,135,9],[140,4,136,2],[141,2,137,0],[141,3,137,1],[141,4,137,2],[141,5,137,3],[142,0,137,4],[142,3]],"functionMap":{"names":["<global>","create$argument_0","initSession","fetchCart","addToCart","updateQuantity","removeFromCart","clearCart","getTotalItems","items.reduce$argument_0","getTotalPrice","products.find$argument_0"],"mappings":"AAA;8CCkC;eCM;GDY;aEE;GFgB;aGE;GHU;kBIE;GJc;kBKE;GLU;aME;GNU;iBOE;wBCE,sCD;GPC;iBSE;wBDE;oCEC,6BF;KCE;GTC;EDC"},"hasCjsExports":false},"type":"js/module"}]}